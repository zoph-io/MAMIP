{
    "PolicyVersion": {
        "CreateDate": "2024-11-27T06:21:07Z", 
        "VersionId": "v4", 
        "Document": {
            "Version": "2012-10-17", 
            "Statement": [
                {
                    "Action": [
                        "ec2:CreateNetworkInterface", 
                        "ec2:DeleteNetworkInterface", 
                        "ec2:AttachNetworkInterface", 
                        "ec2:CreateNetworkInterfacePermission", 
                        "ec2:DeleteNetworkInterfacePermission", 
                        "ec2:CreateVpcEndpoint"
                    ], 
                    "Resource": [
                        "arn:aws:ec2:*:*:network-interface/*", 
                        "arn:aws:ec2:*:*:subnet/*", 
                        "arn:aws:ec2:*:*:route-table/*", 
                        "arn:aws:ec2:*:*:security-group/*"
                    ], 
                    "Effect": "Allow", 
                    "Condition": {
                        "ArnLike": {
                            "ec2:Vpc": "arn:aws:ec2:*:*:vpc/${aws:PrincipalTag/VpcId}"
                        }, 
                        "StringEquals": {
                            "aws:CalledViaLast": [
                                "sagemaker.amazonaws.com", 
                                "airflow.amazonaws.com"
                            ], 
                            "aws:ResourceAccount": "${aws:PrincipalAccount}"
                        }
                    }, 
                    "Sid": "AllowManageSageMakerEniOnVpc"
                }, 
                {
                    "Action": [
                        "ec2:CreateNetworkInterfacePermission", 
                        "ec2:DeleteNetworkInterfacePermission"
                    ], 
                    "Resource": [
                        "arn:aws:ec2:*:*:network-interface/*", 
                        "arn:aws:ec2:*:*:subnet/*", 
                        "arn:aws:ec2:*:*:route-table/*", 
                        "arn:aws:ec2:*:*:security-group/*"
                    ], 
                    "Effect": "Allow", 
                    "Condition": {
                        "ArnLike": {
                            "ec2:Vpc": "arn:aws:ec2:*:*:vpc/${aws:PrincipalTag/VpcId}"
                        }, 
                        "StringEquals": {
                            "aws:ResourceAccount": "${aws:PrincipalAccount}"
                        }
                    }, 
                    "Sid": "AllowManageSageMakerTrainingEniOnVpc"
                }, 
                {
                    "Action": [
                        "ec2:CreateNetworkInterface", 
                        "ec2:AttachNetworkInterface"
                    ], 
                    "Resource": [
                        "arn:aws:ec2:*:*:network-interface/*", 
                        "arn:aws:ec2:*:*:instance/*"
                    ], 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringEqualsIfExists": {
                            "aws:CalledViaLast": "sagemaker.amazonaws.com", 
                            "aws:ResourceAccount": "${aws:PrincipalAccount}"
                        }
                    }, 
                    "Sid": "AllowManageSageMakerEni"
                }, 
                {
                    "Action": [
                        "ec2:CreateVpcEndpoint"
                    ], 
                    "Resource": "arn:aws:ec2:*:*:vpc/${aws:PrincipalTag/VpcId}", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringEqualsIfExists": {
                            "aws:CalledViaLast": "sagemaker.amazonaws.com", 
                            "aws:ResourceAccount": "${aws:PrincipalAccount}"
                        }, 
                        "StringEquals": {
                            "ec2:VpcID": "${aws:PrincipalTag/VpcId}"
                        }
                    }, 
                    "Sid": "AllowSageMakerCreateVpcEndpointOnVpcId"
                }, 
                {
                    "Action": [
                        "ec2:CreateVpcEndpoint"
                    ], 
                    "Resource": [
                        "arn:aws:ec2:*:*:vpc-endpoint/*"
                    ], 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringEqualsIfExists": {
                            "aws:CalledViaLast": "sagemaker.amazonaws.com", 
                            "aws:ResourceAccount": "${aws:PrincipalAccount}"
                        }
                    }, 
                    "Sid": "AllowSageMakerCreateVpcEndpoint"
                }, 
                {
                    "Action": [
                        "ec2:DescribeVpcEndpoints", 
                        "ec2:DescribeSubnets", 
                        "ec2:DescribeRouteTables", 
                        "ec2:DescribeSecurityGroups", 
                        "glue:ListSessions", 
                        "ec2:DescribeVpcs", 
                        "ec2:DescribeNetworkInterfaces", 
                        "ec2:DescribeDhcpOptions"
                    ], 
                    "Resource": "*", 
                    "Effect": "Allow", 
                    "Sid": "AllowSageMakerDescribeVPCResources"
                }, 
                {
                    "Action": [
                        "logs:DescribeLogStreams", 
                        "logs:GetLogEvents"
                    ], 
                    "Resource": "arn:aws:logs:*:*:log-group:/aws/sagemaker/*", 
                    "Effect": "Allow", 
                    "Sid": "AllowSageMakerLogAccess"
                }, 
                {
                    "Action": [
                        "sagemaker:UpdateMlflowTrackingServer", 
                        "sagemaker:StartMlflowTrackingServer", 
                        "sagemaker:StopMlflowTrackingServer", 
                        "sagemaker:DescribeMlflowTrackingServer", 
                        "sagemaker:CreatePresignedMlflowTrackingServerUrl", 
                        "sagemaker-mlflow:AccessUI", 
                        "sagemaker-mlflow:CreateExperiment", 
                        "sagemaker-mlflow:SearchExperiments", 
                        "sagemaker-mlflow:GetExperiment", 
                        "sagemaker-mlflow:GetExperimentByName", 
                        "sagemaker-mlflow:DeleteExperiment", 
                        "sagemaker-mlflow:RestoreExperiment", 
                        "sagemaker-mlflow:UpdateExperiment", 
                        "sagemaker-mlflow:CreateRun", 
                        "sagemaker-mlflow:DeleteRun", 
                        "sagemaker-mlflow:RestoreRun", 
                        "sagemaker-mlflow:GetRun", 
                        "sagemaker-mlflow:LogMetric", 
                        "sagemaker-mlflow:LogBatch", 
                        "sagemaker-mlflow:LogModel", 
                        "sagemaker-mlflow:LogInputs", 
                        "sagemaker-mlflow:SetExperimentTag", 
                        "sagemaker-mlflow:SetTag", 
                        "sagemaker-mlflow:DeleteTag", 
                        "sagemaker-mlflow:LogParam", 
                        "sagemaker-mlflow:GetMetricHistory", 
                        "sagemaker-mlflow:SearchRuns", 
                        "sagemaker-mlflow:ListArtifacts", 
                        "sagemaker-mlflow:UpdateRun", 
                        "sagemaker-mlflow:CreateRegisteredModel", 
                        "sagemaker-mlflow:GetRegisteredModel", 
                        "sagemaker-mlflow:RenameRegisteredModel", 
                        "sagemaker-mlflow:UpdateRegisteredModel", 
                        "sagemaker-mlflow:DeleteRegisteredModel", 
                        "sagemaker-mlflow:GetLatestModelVersions", 
                        "sagemaker-mlflow:CreateModelVersion", 
                        "sagemaker-mlflow:GetModelVersion", 
                        "sagemaker-mlflow:UpdateModelVersion", 
                        "sagemaker-mlflow:DeleteModelVersion", 
                        "sagemaker-mlflow:SearchModelVersions", 
                        "sagemaker-mlflow:GetDownloadURIForModelVersionArtifacts", 
                        "sagemaker-mlflow:TransitionModelVersionStage", 
                        "sagemaker-mlflow:SearchRegisteredModels", 
                        "sagemaker-mlflow:SetRegisteredModelTag", 
                        "sagemaker-mlflow:DeleteRegisteredModelTag", 
                        "sagemaker-mlflow:DeleteModelVersionTag", 
                        "sagemaker-mlflow:DeleteRegisteredModelAlias", 
                        "sagemaker-mlflow:SetRegisteredModelAlias", 
                        "sagemaker-mlflow:GetModelVersionByAlias"
                    ], 
                    "Resource": "arn:aws:sagemaker:*:*:mlflow-tracking-server/*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringEquals": {
                            "aws:ResourceTag/AmazonDataZoneProject": "${aws:PrincipalTag/AmazonDataZoneProject}"
                        }
                    }, 
                    "Sid": "SageMakerMlflowPermission"
                }, 
                {
                    "Action": [
                        "elasticfilesystem:DescribeMountTargets"
                    ], 
                    "Resource": "*", 
                    "Effect": "Allow", 
                    "Sid": "SageMakerBYOFSPermissions"
                }, 
                {
                    "Action": [
                        "sagemaker:DescribeImageVersion", 
                        "sagemaker:ListImageVersions"
                    ], 
                    "Resource": "*", 
                    "Effect": "Allow", 
                    "Sid": "SageMakerBYOIPermissions"
                }, 
                {
                    "Action": [
                        "sagemaker:DescribeImage"
                    ], 
                    "Resource": "arn:aws:sagemaker:*:*:image/*", 
                    "Effect": "Allow", 
                    "Sid": "SageMakerStudioAppDescribeImageActionPermissions"
                }, 
                {
                    "Action": [
                        "sts:GetCallerIdentity"
                    ], 
                    "Resource": "*", 
                    "Effect": "Allow", 
                    "Sid": "SageMakerPipelinesSTSPermissions"
                }, 
                {
                    "Action": [
                        "logs:CreateLogGroup", 
                        "logs:CreateLogStream", 
                        "logs:DescribeLogStreams", 
                        "logs:GetLogEvents", 
                        "logs:PutLogEvents"
                    ], 
                    "Resource": "arn:aws:logs:*:*:log-group:/aws/sagemaker/*", 
                    "Effect": "Allow", 
                    "Sid": "SageMakerLogPermissions"
                }, 
                {
                    "Action": [
                        "sagemaker:CreateTrainingJob", 
                        "sagemaker:CreateTransformJob", 
                        "sagemaker:CreateProcessingJob", 
                        "sagemaker:CreateAutoMLJob", 
                        "sagemaker:CreateAutoMLJobV2", 
                        "sagemaker:CreateHyperParameterTuningJob", 
                        "sagemaker:CreateEndpointConfig", 
                        "sagemaker:CreateEndpoint", 
                        "sagemaker:CreateModel", 
                        "sagemaker:CreateModelPackage", 
                        "sagemaker:CreateModelPackageGroup", 
                        "sagemaker:CreateInferenceComponent", 
                        "sagemaker:CreatePipeline", 
                        "sagemaker:CreateInferenceRecommendationsJob"
                    ], 
                    "Resource": "*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringEquals": {
                            "aws:ResourceTag/AmazonDataZoneProject": "${aws:PrincipalTag/AmazonDataZoneProject}", 
                            "aws:PrincipalTag/EnableSageMakerMLWorkloadsPermissions": "true"
                        }
                    }, 
                    "Sid": "SageMakerCreatePermissions"
                }, 
                {
                    "Action": [
                        "sagemaker:StopTrainingJob", 
                        "sagemaker:StopProcessingJob", 
                        "sagemaker:StopAutoMLJob", 
                        "sagemaker:StopHyperParameterTuningJob", 
                        "sagemaker:UpdateTrainingJob", 
                        "sagemaker:BatchGetMetrics", 
                        "sagemaker:BatchPutMetrics", 
                        "sagemaker:DeleteEndpointConfig", 
                        "sagemaker:DeleteEndpoint", 
                        "sagemaker:UpdateEndpoint", 
                        "sagemaker:UpdateEndpointWeightsAndCapacities", 
                        "sagemaker:UpdateInferenceComponentRuntimeConfig", 
                        "sagemaker:BatchDescribeModelPackage", 
                        "sagemaker:UpdateModelPackage", 
                        "sagemaker:DeleteModel", 
                        "sagemaker:DeleteModelPackage", 
                        "sagemaker:DeleteModelPackageGroup", 
                        "sagemaker:DeleteInferenceComponent", 
                        "sagemaker:InvokeEndpoint", 
                        "sagemaker:InvokeEndpointAsync", 
                        "sagemaker:InvokeEndpointWithResponseStream", 
                        "sagemaker:DescribeInferenceComponent", 
                        "sagemaker:DescribeEndpointConfig", 
                        "sagemaker:DescribeModel", 
                        "sagemaker:DescribeOptimizationJob", 
                        "sagemaker:DescribeEndpoint"
                    ], 
                    "Resource": "*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringEquals": {
                            "aws:ResourceTag/AmazonDataZoneProject": "${aws:PrincipalTag/AmazonDataZoneProject}", 
                            "aws:PrincipalTag/EnableSageMakerMLWorkloadsPermissions": "true"
                        }
                    }, 
                    "Sid": "SageMakerInferencePermissions"
                }, 
                {
                    "Action": [
                        "sagemaker:UpdateInferenceComponentRuntimeConfig"
                    ], 
                    "Resource": "*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringEquals": {
                            "aws:PrincipalTag/EnableSageMakerMLWorkloadsPermissions": "true", 
                            "aws:CalledViaLast": "application-autoscaling.amazonaws.com"
                        }
                    }, 
                    "Sid": "SageMakerUpdateInferenceComponentRuntimeConfigAutoscalingPermissions"
                }, 
                {
                    "Action": [
                        "sagemaker:DescribeInferenceRecommendationsJob", 
                        "sagemaker:DescribeModelPackage", 
                        "sagemaker:DescribeModelPackageGroup", 
                        "sagemaker:UpdatePipeline", 
                        "sagemaker:DescribePipeline", 
                        "sagemaker:DescribePipelineExecution", 
                        "sagemaker:DescribePipelineDefinitionForExecution", 
                        "sagemaker:DeletePipeline", 
                        "sagemaker:UpdatePipelineExecution", 
                        "sagemaker:StartPipelineExecution", 
                        "sagemaker:StopPipelineExecution", 
                        "sagemaker:DescribeTransformJob", 
                        "sagemaker:StopTransformJob", 
                        "sagemaker:RetryPipelineExecution", 
                        "sagemaker:SendPipelineExecutionStepSuccess", 
                        "sagemaker:SendPipelineExecutionStepFailure", 
                        "sagemaker:DescribeHyperParameterTuningJob", 
                        "sagemaker:DescribeAutoMLJob", 
                        "sagemaker:DescribeProcessingJob", 
                        "sagemaker:DescribeTrainingJob"
                    ], 
                    "Resource": "*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringEquals": {
                            "aws:ResourceTag/AmazonDataZoneProject": "${aws:PrincipalTag/AmazonDataZoneProject}", 
                            "aws:PrincipalTag/EnableSageMakerMLWorkloadsPermissions": "true"
                        }
                    }, 
                    "Sid": "SageMakerDescribeUpdateDeletePermissions"
                }, 
                {
                    "Action": [
                        "sagemaker:CreateContext", 
                        "sagemaker:CreateArtifact", 
                        "sagemaker:CreateAction", 
                        "sagemaker:AddAssociation", 
                        "sagemaker:DeleteAssociation", 
                        "sagemaker:DeleteContext", 
                        "sagemaker:DeleteAction", 
                        "sagemaker:DeleteArtifact"
                    ], 
                    "Resource": "*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringEquals": {
                            "aws:ResourceTag/AmazonDataZoneProject": "${aws:PrincipalTag/AmazonDataZoneProject}", 
                            "aws:PrincipalTag/EnableSageMakerMLWorkloadsPermissions": "true"
                        }
                    }, 
                    "Sid": "SageMakerLineageSpecialPermissions"
                }, 
                {
                    "Action": [
                        "sagemaker:QueryLineage", 
                        "sagemaker:DescribeAction", 
                        "sagemaker:DescribeArtifact", 
                        "sagemaker:DescribeTrialComponent", 
                        "sagemaker:DescribeContext"
                    ], 
                    "Resource": "*", 
                    "Effect": "Allow", 
                    "Sid": "SageMakerModelRegistryLineageSpecialPermissions"
                }, 
                {
                    "Action": [
                        "sagemaker:Search", 
                        "sagemaker:GetSearchSuggestions", 
                        "sagemaker:ListTrainingJobs", 
                        "sagemaker:ListTransformJobs", 
                        "sagemaker:ListProcessingJobs", 
                        "sagemaker:ListAutoMLJobs", 
                        "sagemaker:ListCandidatesForAutoMLJob", 
                        "sagemaker:ListHyperParameterTuningJobs", 
                        "sagemaker:ListTrainingJobsForHyperParameterTuningJob", 
                        "sagemaker:ListInferenceComponents", 
                        "sagemaker:ListEndpoints", 
                        "sagemaker:ListEndpointConfigs", 
                        "sagemaker:ListModels", 
                        "sagemaker:ListModelPackages", 
                        "sagemaker:ListModelPackageGroups", 
                        "sagemaker:ListModelMetadata", 
                        "sagemaker:ListMlflowTrackingServers", 
                        "sagemaker:ListArtifacts", 
                        "sagemaker:ListAssociations", 
                        "sagemaker:ListHubContents", 
                        "sagemaker:ListHubs", 
                        "sagemaker:ListPipelineExecutionSteps", 
                        "sagemaker:ListPipelineExecutions", 
                        "sagemaker:ListPipelineParametersForExecution", 
                        "sagemaker:ListPipelines", 
                        "sagemaker:ListContexts"
                    ], 
                    "Resource": "*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringEquals": {
                            "aws:PrincipalTag/EnableSageMakerMLWorkloadsPermissions": "true"
                        }
                    }, 
                    "Sid": "SageMakerListPermissions"
                }, 
                {
                    "Action": [
                        "ecr:BatchGetImage", 
                        "ecr:DescribeImages", 
                        "ecr:GetDownloadUrlForLayer"
                    ], 
                    "Resource": "arn:aws:ecr:*:*:repository/*", 
                    "Effect": "Allow", 
                    "Sid": "SageMakerECRPermissions"
                }, 
                {
                    "Action": [
                        "ecr:GetAuthorizationToken"
                    ], 
                    "Resource": "*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringEquals": {
                            "aws:ResourceAccount": "${aws:PrincipalAccount}"
                        }
                    }, 
                    "Sid": "SageMakerECRGetAuthorizationTokenPermissions"
                }, 
                {
                    "Action": [
                        "resource-groups:GetGroupQuery"
                    ], 
                    "Resource": "arn:aws:resource-groups:*:*:group/*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringEquals": {
                            "aws:PrincipalTag/EnableSageMakerMLWorkloadsPermissions": "true", 
                            "aws:ResourceAccount": "${aws:PrincipalAccount}"
                        }
                    }, 
                    "Sid": "AmazonSageMakerModelRegistryResourceGroupGetPermission"
                }, 
                {
                    "Action": [
                        "resource-groups:ListGroupResources"
                    ], 
                    "Resource": "*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringEquals": {
                            "aws:PrincipalTag/EnableSageMakerMLWorkloadsPermissions": "true"
                        }
                    }, 
                    "Sid": "AmazonSageMakerModelRegistryResourceGroupListPermission"
                }, 
                {
                    "Action": [
                        "resource-groups:CreateGroup", 
                        "resource-groups:Tag"
                    ], 
                    "Resource": "arn:aws:resource-groups:*:*:group/*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "Null": {
                            "aws:ResourceTag/sagemaker:collection": "false"
                        }, 
                        "StringEquals": {
                            "aws:PrincipalTag/EnableSageMakerMLWorkloadsPermissions": "true", 
                            "aws:ResourceAccount": "${aws:PrincipalAccount}"
                        }
                    }, 
                    "Sid": "AmazonSageMakerModelRegistryResourceGroupWritePermission"
                }, 
                {
                    "Action": [
                        "resource-groups:DeleteGroup"
                    ], 
                    "Resource": "arn:aws:resource-groups:*:*:group/*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "Null": {
                            "aws:ResourceTag/sagemaker:collection": "false"
                        }, 
                        "StringEquals": {
                            "aws:PrincipalTag/EnableSageMakerMLWorkloadsPermissions": "true", 
                            "aws:ResourceAccount": "${aws:PrincipalAccount}"
                        }
                    }, 
                    "Sid": "AmazonSageMakerModelRegistryResourceGroupDeletePermission"
                }, 
                {
                    "Action": [
                        "sagemaker:DescribeModelPackageGroup"
                    ], 
                    "Resource": "arn:aws:sagemaker:*:*:model-package-group/*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringEquals": {
                            "aws:PrincipalTag/EnableSageMakerMLWorkloadsPermissions": "true"
                        }
                    }, 
                    "Sid": "SageMakerMLFlowModelRegistrationPermission"
                }, 
                {
                    "Action": [
                        "sagemaker:CreatePresignedDomainUrl"
                    ], 
                    "Resource": "arn:aws:sagemaker:*:*:user-profile/*/${aws:PrincipalTag/datazone:userId}", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringEquals": {
                            "aws:ResourceTag/AmazonDataZoneProject": "${aws:PrincipalTag/AmazonDataZoneProject}", 
                            "aws:PrincipalTag/EnableSageMakerMLWorkloadsPermissions": "true"
                        }
                    }, 
                    "Sid": "SageMakerStudioCreatePresignedDomainUrlForUserProfile"
                }, 
                {
                    "Action": [
                        "sagemaker:ListApps", 
                        "sagemaker:ListDomains", 
                        "sagemaker:ListUserProfiles", 
                        "sagemaker:ListSpaces"
                    ], 
                    "Resource": "*", 
                    "Effect": "Allow", 
                    "Sid": "SageMakerStudioAppListActionsPermissions"
                }, 
                {
                    "Action": [
                        "sagemaker:DescribeDomain"
                    ], 
                    "Resource": "*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringEquals": {
                            "aws:ResourceTag/AmazonDataZoneProject": "${aws:PrincipalTag/AmazonDataZoneProject}"
                        }
                    }, 
                    "Sid": "SageMakerStudioAppDescribeDomainActionsPermissions"
                }, 
                {
                    "Action": [
                        "sagemaker:DescribeApp"
                    ], 
                    "Resource": [
                        "arn:aws:sagemaker:*:*:app/*/*/jupyterlab/*", 
                        "arn:aws:sagemaker:*:*:app/*/*/JupyterLab/*"
                    ], 
                    "Effect": "Allow", 
                    "Sid": "SageMakerStudioAppDescribeJupyterLabAppActionPermissions"
                }, 
                {
                    "Action": [
                        "sagemaker:DescribeUserProfile"
                    ], 
                    "Resource": "arn:aws:sagemaker:*:*:user-profile/*/${aws:PrincipalTag/datazone:userId}", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringEquals": {
                            "aws:ResourceTag/AmazonDataZoneProject": "${aws:PrincipalTag/AmazonDataZoneProject}"
                        }
                    }, 
                    "Sid": "SageMakerStudioAppDescribeUserProfileActionPermissions"
                }, 
                {
                    "Action": [
                        "sagemaker:DescribeSpace"
                    ], 
                    "Resource": "*", 
                    "Effect": "Allow", 
                    "Sid": "SMStudioAppDescribeSpaceActionPermissions"
                }, 
                {
                    "Action": [
                        "sagemaker:AddTags", 
                        "sagemaker:DeleteTags"
                    ], 
                    "Resource": "*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "ForAllValues:StringNotLike": {
                            "aws:TagKeys": [
                                "AmazonDataZone*", 
                                "sagemaker:shared-with:*"
                            ]
                        }, 
                        "StringEquals": {
                            "aws:ResourceTag/AmazonDataZoneProject": "${aws:PrincipalTag/AmazonDataZoneProject}"
                        }, 
                        "ForAllValues:StringLike": {
                            "aws:TagKeys": [
                                "ProjectUserTag*", 
                                "sagemaker*", 
                                "sm-jumpstart*", 
                                "endpoint-has-jumpstart-model"
                            ]
                        }
                    }, 
                    "Sid": "SageMakerTagPermissions"
                }, 
                {
                    "Action": [
                        "sagemaker:CreateUserProfile", 
                        "sagemaker:DeleteUserProfile"
                    ], 
                    "Resource": "arn:aws:sagemaker:*:*:user-profile/*/${aws:PrincipalTag/datazone:userId}", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringEquals": {
                            "aws:ResourceTag/AmazonDataZoneProject": "${aws:PrincipalTag/AmazonDataZoneProject}"
                        }
                    }, 
                    "Sid": "SageMakerStudioAllowCreatingDeletingOwnerUserProfile"
                }, 
                {
                    "Action": [
                        "sagemaker:CreateSpace", 
                        "sagemaker:UpdateSpace", 
                        "sagemaker:DeleteSpace"
                    ], 
                    "Resource": "arn:aws:sagemaker:*:*:space/*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "ArnLike": {
                            "sagemaker:OwnerUserProfileArn": "arn:aws:sagemaker:*:*:user-profile/*/${aws:PrincipalTag/datazone:userId}"
                        }, 
                        "StringEquals": {
                            "aws:ResourceTag/AmazonDataZoneProject": "${aws:PrincipalTag/AmazonDataZoneProject}", 
                            "sagemaker:SpaceSharingType": [
                                "Private"
                            ]
                        }
                    }, 
                    "Sid": "SageMakerStudioRestrictPrivateSpaceToOwnerUserProfile"
                }, 
                {
                    "Action": [
                        "sagemaker:CreateApp", 
                        "sagemaker:DeleteApp"
                    ], 
                    "Resource": [
                        "arn:aws:sagemaker:*:*:app/*/*/jupyterlab/*", 
                        "arn:aws:sagemaker:*:*:app/*/*/JupyterLab/*"
                    ], 
                    "Effect": "Allow", 
                    "Condition": {
                        "ArnLike": {
                            "sagemaker:OwnerUserProfileArn": "arn:aws:sagemaker:*:*:user-profile/*/${aws:PrincipalTag/datazone:userId}"
                        }, 
                        "StringEquals": {
                            "aws:ResourceTag/AmazonDataZoneProject": "${aws:PrincipalTag/AmazonDataZoneProject}", 
                            "sagemaker:SpaceSharingType": [
                                "Private"
                            ]
                        }
                    }, 
                    "Sid": "SageMakerStudioRestrictPrivateSpaceAppsToOwnerUserProfile"
                }, 
                {
                    "Action": [
                        "cloudwatch:PutMetricData"
                    ], 
                    "Resource": "*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringLike": {
                            "cloudwatch:namespace": "/aws/sagemaker/*"
                        }
                    }, 
                    "Sid": "PublishSagemakerMetric"
                }, 
                {
                    "Action": [
                        "cloudwatch:DescribeAlarms"
                    ], 
                    "Resource": "*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringEquals": {
                            "aws:ResourceAccount": "${aws:PrincipalAccount}"
                        }
                    }, 
                    "Sid": "ManageSageMakerEndpointsAutoscalingAlarms"
                }, 
                {
                    "Action": [
                        "cloudwatch:PutMetricAlarm", 
                        "cloudwatch:DeleteAlarms"
                    ], 
                    "Resource": "arn:aws:cloudwatch:*:*:alarm:TargetTracking*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringEquals": {
                            "aws:CalledViaLast": "application-autoscaling.amazonaws.com", 
                            "aws:ResourceAccount": "${aws:PrincipalAccount}"
                        }
                    }, 
                    "Sid": "MutateSageMakerEndpointsAutoscalingAlarms"
                }, 
                {
                    "Action": [
                        "ssm:GetParameter", 
                        "ssm:GetParameters", 
                        "ssm:GetParametersByPath"
                    ], 
                    "Resource": "arn:aws:ssm:*::parameter/aws/service/sagemaker-distribution/*", 
                    "Effect": "Allow", 
                    "Sid": "SSMPermissions"
                }, 
                {
                    "Action": [
                        "s3:GetObject"
                    ], 
                    "Resource": [
                        "arn:aws:s3:::jumpstart-cache-prod-*/*"
                    ], 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringNotEquals": {
                            "aws:ResourceAccount": "${aws:PrincipalAccount}"
                        }
                    }, 
                    "Sid": "SageMakerJumpstartS3Access"
                }, 
                {
                    "Action": [
                        "sagemaker:DescribeModelPackage", 
                        "sagemaker:DescribeModelPackageGroup", 
                        "sagemaker:BatchDescribeModelPackage"
                    ], 
                    "Resource": "*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringNotEquals": {
                            "aws:ResourceAccount": "${aws:PrincipalAccount}"
                        }
                    }, 
                    "Sid": "SageMakerCrossAccountReadPermissions"
                }, 
                {
                    "Action": [
                        "sagemaker:ListTags"
                    ], 
                    "Resource": [
                        "*"
                    ], 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringEqualsIfExists": {
                            "aws:ResourceTag/AmazonDataZoneProject": "${aws:PrincipalTag/AmazonDataZoneProject}"
                        }
                    }, 
                    "Sid": "SageMakerListTagsRestrictionOnSharedResources"
                }, 
                {
                    "Action": [
                        "application-autoscaling:DeregisterScalableTarget", 
                        "application-autoscaling:PutScalingPolicy", 
                        "application-autoscaling:PutScheduledAction", 
                        "application-autoscaling:RegisterScalableTarget"
                    ], 
                    "Resource": "arn:aws:application-autoscaling:*:*:scalable-target/*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringEquals": {
                            "application-autoscaling:service-namespace": "sagemaker", 
                            "aws:ResourceAccount": "${aws:PrincipalAccount}"
                        }
                    }, 
                    "Sid": "SageMakerAutoScalingPermissionsWithserviceNamespace"
                }, 
                {
                    "Action": [
                        "application-autoscaling:DescribeScalableTargets", 
                        "application-autoscaling:DescribeScalingActivities", 
                        "application-autoscaling:DescribeScalingPolicies", 
                        "application-autoscaling:DescribeScheduledActions"
                    ], 
                    "Resource": "arn:aws:application-autoscaling:*:*:scalable-target/*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringEquals": {
                            "aws:ResourceAccount": "${aws:PrincipalAccount}"
                        }
                    }, 
                    "Sid": "SageMakerAutoScalingPermissions"
                }, 
                {
                    "Action": "iam:CreateServiceLinkedRole", 
                    "Resource": "arn:aws:iam::*:role/aws-service-role/sagemaker.application-autoscaling.amazonaws.com/AWSServiceRoleForApplicationAutoScaling_SageMakerEndpoint", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringLike": {
                            "iam:AWSServiceName": "sagemaker.application-autoscaling.amazonaws.com"
                        }
                    }, 
                    "Sid": "SageMakerSLRForAutoScalingPermissions"
                }
            ]
        }, 
        "IsDefaultVersion": true
    }
}
