{
    "PolicyVersion": {
        "CreateDate": "2026-02-16T18:42:14Z", 
        "VersionId": "v62", 
        "Document": {
            "Version": "2012-10-17", 
            "Statement": [
                {
                    "Action": [
                        "athena:*", 
                        "codecommit:*", 
                        "ecr:*", 
                        "emr-serverless:*", 
                        "glue:*", 
                        "scheduler:*"
                    ], 
                    "Resource": "*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringEquals": {
                            "aws:ResourceTag/AmazonDataZoneProject": "${aws:PrincipalTag/AmazonDataZoneProject}"
                        }
                    }, 
                    "Sid": "ProjectPermissions"
                }, 
                {
                    "Action": [
                        "athena:DeleteWorkGroup", 
                        "athena:UpdateWorkGroup", 
                        "codecommit:DeleteRepository", 
                        "codecommit:UpdateRepository", 
                        "codecommit:UpdateRepositoryEncryptionKey", 
                        "ecr:Delete*", 
                        "ecr:Put*", 
                        "ecr:Update*", 
                        "emr-serverless:Delete*", 
                        "emr-serverless:Update*", 
                        "emr-serverless:Put*", 
                        "glue:BatchDeleteConnection", 
                        "glue:DeleteConnection", 
                        "glue:UpdateConnection", 
                        "scheduler:DeleteScheduleGroup"
                    ], 
                    "Resource": "*", 
                    "Effect": "Deny", 
                    "Condition": {
                        "Null": {
                            "aws:ResourceTag/AmazonDataZoneEnvironment": "false"
                        }
                    }, 
                    "Sid": "DenyChangeOfDataZoneBlueprintResources"
                }, 
                {
                    "Action": [
                        "athena:CreateWorkgroup", 
                        "codecommit:CreateRepository", 
                        "emr-serverless:CreateApplication", 
                        "glue:CreateConnection", 
                        "scheduler:CreateScheduleGroup"
                    ], 
                    "Resource": "*", 
                    "Effect": "Deny", 
                    "Sid": "DenyCreateActionsOnBlueprintGovernedResources"
                }, 
                {
                    "Action": [
                        "airflow:List*", 
                        "athena:List*", 
                        "bedrock:List*", 
                        "dynamodb:List*", 
                        "elasticmapreduce:List*", 
                        "glue:List*", 
                        "redshift-serverless:List*", 
                        "secretsmanager:List*", 
                        "sqlworkbench:List*"
                    ], 
                    "Resource": "*", 
                    "Effect": "Allow", 
                    "Sid": "AllowAccountDiscovery"
                }, 
                {
                    "Action": [
                        "airflow:ListTagsForResource", 
                        "athena:ListTagsForResource", 
                        "bedrock:ListTagsForResource", 
                        "dynamodb:ListTagsOfResource", 
                        "redshift-serverless:ListTagsForResource", 
                        "sqlworkbench:ListTagsForResource"
                    ], 
                    "Resource": "*", 
                    "Effect": "Deny", 
                    "Condition": {
                        "StringNotEquals": {
                            "aws:ResourceTag/AmazonDataZoneProject": "${aws:PrincipalTag/AmazonDataZoneProject}", 
                            "aws:ResourceTag/for-use-with-all-datazone-projects": "true"
                        }
                    }, 
                    "Sid": "DenyListTagValuesOnNonProject"
                }, 
                {
                    "Action": [
                        "bedrock:RetrieveAndGenerate", 
                        "codewhisperer:GenerateRecommendations", 
                        "glue:DescribeConnectionType", 
                        "glue:DescribeEntity", 
                        "glue:GetEntityRecords", 
                        "glue:GetGeneratedCode", 
                        "glue:StartCompletion", 
                        "glue:GetCompletion", 
                        "glue:GetClassifier", 
                        "glue:GetClassifiers", 
                        "glue:GetUserDefinedFunction", 
                        "glue:GetUserDefinedFunctions", 
                        "glue:UseGlueStudio", 
                        "logs:DescribeLogGroups", 
                        "logs:StopQuery", 
                        "pricing:GetProducts", 
                        "q:StartConversation", 
                        "q:SendMessage", 
                        "iam:ListRoles", 
                        "tag:GetResources"
                    ], 
                    "Resource": "*", 
                    "Effect": "Allow", 
                    "Sid": "EnableAccountLevelFunctionality"
                }, 
                {
                    "Action": "glue:*", 
                    "NotResource": "arn:aws:glue:*:*:database/default", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringEquals": {
                            "glue:LakeFormationPermissions": "Enabled"
                        }
                    }, 
                    "Sid": "AllowAnyGlueCallIfPermissionManagedByLakeFormation"
                }, 
                {
                    "Action": [
                        "s3:*", 
                        "sqs:*", 
                        "ssm:*"
                    ], 
                    "Resource": "*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringNotEquals": {
                            "aws:ResourceAccount": "${aws:PrincipalAccount}"
                        }
                    }, 
                    "Sid": "CrossAccountPermissions"
                }, 
                {
                    "Action": [
                        "s3:GetObject*", 
                        "s3:PutObject*", 
                        "s3:RestoreObject", 
                        "s3:ReplicateObject", 
                        "s3:DeleteObject*", 
                        "s3:ListMultipartUploadParts", 
                        "s3:AbortMultipartUpload"
                    ], 
                    "Resource": [
                        "arn:aws:s3:::${aws:PrincipalTag/DomainBucketName}/${aws:PrincipalTag/AmazonDataZoneDomain}/${aws:PrincipalTag/AmazonDataZoneProject}/*"
                    ], 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringEquals": {
                            "aws:ResourceAccount": "${aws:PrincipalAccount}"
                        }, 
                        "StringNotEquals": {
                            "aws:PrincipalTag/DomainBucketName": "", 
                            "aws:PrincipalTag/AmazonDataZoneProject": "", 
                            "aws:PrincipalTag/AmazonDataZoneDomain": ""
                        }
                    }, 
                    "Sid": "AccessDomainS3BucketPermissions"
                }, 
                {
                    "Action": [
                        "logs:CreateLogGroup", 
                        "logs:CreateLogStream", 
                        "logs:DescribeLogStreams", 
                        "logs:FilterLogEvents", 
                        "logs:Get*", 
                        "logs:PutLogEvents", 
                        "logs:StartQuery"
                    ], 
                    "Resource": [
                        "arn:aws:logs:*:*:log-group:${aws:PrincipalTag/LogGroupName}*", 
                        "arn:aws:logs:*:*:log-group:${aws:PrincipalTag/LogGroupName}*:log-stream:*"
                    ], 
                    "Effect": "Allow", 
                    "Sid": "ProjectLogGroupPermissions"
                }, 
                {
                    "Action": [
                        "redshift-serverless:Get*", 
                        "redshift:DescribeTags", 
                        "redshift:GetClusterCredentialsWithIAM", 
                        "redshift-data:BatchExecuteStatement", 
                        "redshift-data:ExecuteStatement", 
                        "redshift-data:DescribeTable", 
                        "redshift-data:List*", 
                        "secretsmanager:GetSecretValue"
                    ], 
                    "Resource": "*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "Null": {
                            "aws:ResourceTag/AmazonDataZoneEnvironment": "true"
                        }, 
                        "StringEquals": {
                            "aws:ResourceTag/for-use-with-all-datazone-projects": "true"
                        }
                    }, 
                    "Sid": "ShareYourOwnResourceAcrossAllProjects"
                }, 
                {
                    "Action": "bedrock:*", 
                    "Resource": "*", 
                    "Effect": "Deny", 
                    "Condition": {
                        "StringEquals": {
                            "aws:PrincipalTag/EnableAmazonBedrockPermissions": "false"
                        }
                    }, 
                    "Sid": "SelectivePermissionDisablementForBedrock"
                }, 
                {
                    "Action": "glue:*", 
                    "Resource": "*", 
                    "Effect": "Deny", 
                    "Condition": {
                        "StringEquals": {
                            "aws:PrincipalTag/EnableGlueWorkloadsPermissions": "false"
                        }
                    }, 
                    "Sid": "SelectivePermissionDisablementForGlue"
                }, 
                {
                    "Action": "*", 
                    "Resource": "*", 
                    "Effect": "Deny", 
                    "Condition": {
                        "ForAnyValue:StringEquals": {
                            "aws:TagKeys": [
                                "AmazonDataZoneEnvironment", 
                                "AmazonDataZoneScopeName"
                            ]
                        }
                    }, 
                    "Sid": "DenyTaggingForManagedKey"
                }, 
                {
                    "Action": "*", 
                    "Resource": "*", 
                    "Effect": "Deny", 
                    "Condition": {
                        "ForAnyValue:StringEquals": {
                            "aws:TagKeys": "AmazonDataZoneProject"
                        }, 
                        "Null": {
                            "aws:RequestTag/AmazonDataZoneProject": "true"
                        }
                    }, 
                    "Sid": "DenyUnTagForProjectKey"
                }, 
                {
                    "Action": "*", 
                    "Resource": "*", 
                    "Effect": "Deny", 
                    "Condition": {
                        "Null": {
                            "aws:RequestTag/AmazonDataZoneProject": "false"
                        }, 
                        "StringNotEquals": {
                            "aws:RequestTag/AmazonDataZoneProject": "${aws:PrincipalTag/AmazonDataZoneProject}"
                        }
                    }, 
                    "Sid": "DenyIfRequestTagProjectMismatch"
                }, 
                {
                    "Action": [
                        "kms:ReEncryptFrom", 
                        "kms:ReEncryptTo", 
                        "kms:Decrypt", 
                        "kms:Encrypt", 
                        "kms:GenerateDataKey", 
                        "kms:GenerateDataKeyWithoutPlaintext"
                    ], 
                    "Resource": "arn:aws:kms:*:*:key/${aws:PrincipalTag/KmsKeyId}", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringEquals": {
                            "aws:ResourceAccount": "${aws:PrincipalAccount}"
                        }, 
                        "Null": {
                            "kms:EncryptionContext:aws:codecommit:id": "false"
                        }, 
                        "StringLike": {
                            "kms:ViaService": [
                                "codecommit.*.amazonaws.com"
                            ]
                        }
                    }, 
                    "Sid": "CodeCommitKmsPermissions"
                }, 
                {
                    "Action": [
                        "ec2:CreateNetworkInterface"
                    ], 
                    "Resource": "arn:aws:ec2:*:*:network-interface/*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "Null": {
                            "aws:TagKeys": "true"
                        }, 
                        "StringEquals": {
                            "glue:RoleAssumedBy": "glue.amazonaws.com"
                        }
                    }, 
                    "Sid": "AllowGlueCreateEni"
                }, 
                {
                    "Action": [
                        "ec2:CreateNetworkInterface"
                    ], 
                    "Resource": "arn:aws:ec2:*:*:security-group/*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringEquals": {
                            "aws:ResourceTag/AmazonDataZoneProject": "${aws:PrincipalTag/AmazonDataZoneProject}", 
                            "glue:RoleAssumedBy": "glue.amazonaws.com", 
                            "aws:ResourceAccount": "${aws:PrincipalAccount}"
                        }
                    }, 
                    "Sid": "AllowGlueCreateEniOnSecurityGroup"
                }, 
                {
                    "Action": [
                        "ec2:CreateNetworkInterface"
                    ], 
                    "Resource": "arn:aws:ec2:*:*:subnet/*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringEquals": {
                            "glue:RoleAssumedBy": "glue.amazonaws.com"
                        }
                    }, 
                    "Sid": "AllowGlueCreateEniOnSubnet"
                }, 
                {
                    "Action": [
                        "ec2:DeleteNetworkInterface", 
                        "ec2:AttachNetworkInterface"
                    ], 
                    "Resource": "arn:aws:ec2:*:*:network-interface/*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "Null": {
                            "aws:ResourceTag/aws-glue-service-resource": "false"
                        }, 
                        "StringEquals": {
                            "glue:RoleAssumedBy": "glue.amazonaws.com", 
                            "aws:ResourceAccount": "${aws:PrincipalAccount}"
                        }
                    }, 
                    "Sid": "AllowManageGlueEni"
                }, 
                {
                    "Action": [
                        "ec2:AttachNetworkInterface"
                    ], 
                    "Resource": "arn:aws:ec2:*:*:instance/*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringEquals": {
                            "glue:RoleAssumedBy": "glue.amazonaws.com"
                        }, 
                        "StringNotEquals": {
                            "aws:ResourceAccount": "${aws:PrincipalAccount}"
                        }
                    }, 
                    "Sid": "AllowAttachGlueEniOnInstance"
                }, 
                {
                    "Action": [
                        "ec2:DescribeNetworkInterfaces"
                    ], 
                    "Resource": "*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringEquals": {
                            "glue:RoleAssumedBy": "glue.amazonaws.com"
                        }
                    }, 
                    "Sid": "AllowDescribeGlueEni"
                }, 
                {
                    "Action": [
                        "secretsmanager:DescribeSecret", 
                        "secretsmanager:GetSecretValue"
                    ], 
                    "Resource": "*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringEquals": {
                            "aws:ResourceTag/AmazonDataZoneProject": "${aws:PrincipalTag/AmazonDataZoneProject}", 
                            "glue:RoleAssumedBy": "glue.amazonaws.com", 
                            "aws:ResourceAccount": "${aws:PrincipalAccount}"
                        }
                    }, 
                    "Sid": "FederatedDataConnectionGlueSecret"
                }, 
                {
                    "Action": [
                        "ec2:DescribeVpcEndpoints", 
                        "ec2:DescribeSubnets", 
                        "ec2:DescribeRouteTables", 
                        "ec2:DescribeSecurityGroups", 
                        "ec2:DescribeVpcs"
                    ], 
                    "Resource": "*", 
                    "Effect": "Allow", 
                    "Sid": "GlueKernelPermissions"
                }, 
                {
                    "Action": [
                        "logs:CreateLogGroup", 
                        "logs:CreateLogStream", 
                        "logs:PutLogEvents"
                    ], 
                    "Resource": "arn:aws:logs:*:*:log-group:/aws-glue/*", 
                    "Effect": "Allow", 
                    "Sid": "GlueJobRunnerSessionLogPermissions"
                }, 
                {
                    "Action": [
                        "ec2:DeleteTags", 
                        "ec2:CreateTags"
                    ], 
                    "Resource": [
                        "arn:aws:ec2:*:*:network-interface/*"
                    ], 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringEquals": {
                            "glue:RoleAssumedBy": "glue.amazonaws.com", 
                            "aws:ResourceAccount": "${aws:PrincipalAccount}"
                        }, 
                        "Null": {
                            "aws:TagKeys": "false"
                        }, 
                        "ForAllValues:StringLike": {
                            "aws:TagKeys": [
                                "aws-glue-*"
                            ]
                        }
                    }, 
                    "Sid": "EC2TagsPermissionsForGlue"
                }, 
                {
                    "Action": [
                        "kms:Decrypt", 
                        "kms:Encrypt", 
                        "kms:GenerateDataKey"
                    ], 
                    "Resource": [
                        "arn:aws:kms:*:*:key/${aws:PrincipalTag/DefaultGlueCatalogKmsKeyId}", 
                        "arn:aws:kms:*:*:key/${aws:PrincipalTag/KmsKeyId}"
                    ], 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringEquals": {
                            "kms:EncryptionContext:glue_catalog_id": "${aws:PrincipalAccount}"
                        }, 
                        "StringLike": {
                            "kms:ViaService": [
                                "glue.*.amazonaws.com"
                            ]
                        }
                    }, 
                    "Sid": "GlueKmsPermissions"
                }, 
                {
                    "Action": [
                        "airflow:GetEnvironment", 
                        "airflow:UpdateEnvironment"
                    ], 
                    "Resource": "*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringEquals": {
                            "aws:ResourceTag/AmazonDataZoneProject": "${aws:PrincipalTag/AmazonDataZoneProject}"
                        }
                    }, 
                    "Sid": "AirflowActionsForTaggedEnvironments"
                }, 
                {
                    "Action": [
                        "airflow:CreateWebLoginToken", 
                        "airflow:InvokeRestApi"
                    ], 
                    "Resource": [
                        "arn:aws:airflow:*:*:role/DataZoneMWAAEnv-${aws:PrincipalTag/AmazonDataZoneDomain}-${aws:PrincipalTag/AmazonDataZoneProject}-${aws:PrincipalTag/AmazonDataZoneScopeName}/User"
                    ], 
                    "Effect": "Allow", 
                    "Sid": "AirflowUiApiAccess"
                }, 
                {
                    "Action": [
                        "logs:CreateLogStream", 
                        "logs:CreateLogGroup", 
                        "logs:PutLogEvents", 
                        "logs:GetLogEvents", 
                        "logs:GetLogRecord", 
                        "logs:GetLogGroupFields", 
                        "logs:GetQueryResults"
                    ], 
                    "Resource": [
                        "arn:aws:logs:*:*:log-group:airflow-DataZoneMWAAEnv-${aws:PrincipalTag/AmazonDataZoneDomain}-${aws:PrincipalTag/AmazonDataZoneProject}-${aws:PrincipalTag/AmazonDataZoneScopeName}-*"
                    ], 
                    "Effect": "Allow", 
                    "Sid": "AirflowCloudwatchLogsActions"
                }, 
                {
                    "Action": [
                        "cloudwatch:PutMetricData"
                    ], 
                    "Resource": "*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringLike": {
                            "cloudwatch:namespace": "AmazonMWAA"
                        }
                    }, 
                    "Sid": "AirflowCloudwatchActions"
                }, 
                {
                    "Action": [
                        "cloudwatch:PutMetricData"
                    ], 
                    "Resource": "*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringLike": {
                            "cloudwatch:namespace": [
                                "Glue", 
                                "AWS/Glue"
                            ]
                        }
                    }, 
                    "Sid": "GlueJobCloudwatchPutMetricActions"
                }, 
                {
                    "Action": "s3:GetAccountPublicAccessBlock", 
                    "Resource": "*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringEquals": {
                            "aws:ResourceAccount": "${aws:PrincipalAccount}"
                        }
                    }, 
                    "Sid": "AirflowS3GetAccountPublicAccessBlock"
                }, 
                {
                    "Action": [
                        "s3:GetEncryptionConfiguration", 
                        "s3:GetBucketPublicAccessBlock"
                    ], 
                    "Resource": "arn:aws:s3:::${aws:PrincipalTag/DomainBucketName}", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringEquals": {
                            "aws:ResourceAccount": "${aws:PrincipalAccount}"
                        }
                    }, 
                    "Sid": "AirflowS3BucketActions"
                }, 
                {
                    "Action": [
                        "s3:GetBucketLocation"
                    ], 
                    "Resource": "*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringEquals": {
                            "aws:ResourceAccount": "${aws:PrincipalAccount}"
                        }
                    }, 
                    "Sid": "DataLakeS3BucketActions"
                }, 
                {
                    "Action": [
                        "kms:ListGrants", 
                        "kms:GetPublicKey", 
                        "kms:DescribeKey"
                    ], 
                    "Resource": "*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringLike": {
                            "kms:ViaService": "s3.*.amazonaws.com"
                        }, 
                        "StringNotEquals": {
                            "aws:ResourceAccount": "${aws:PrincipalAccount}"
                        }
                    }, 
                    "Sid": "DataLakeCrossAccountKMSPermissions"
                }, 
                {
                    "Action": [
                        "kms:Decrypt"
                    ], 
                    "Resource": "*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "ForAnyValue:StringEquals": {
                            "kms:EncryptionContextKeys": "aws:s3:arn"
                        }, 
                        "StringLike": {
                            "kms:ViaService": "s3.*.amazonaws.com"
                        }, 
                        "StringNotEquals": {
                            "aws:ResourceAccount": "${aws:PrincipalAccount}"
                        }
                    }, 
                    "Sid": "DataLakeCrossAccountDecryptKMSPermissions"
                }, 
                {
                    "Action": [
                        "s3:ListBucket", 
                        "s3:ListBucketVersions"
                    ], 
                    "Resource": "arn:aws:s3:::${aws:PrincipalTag/DomainBucketName}", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringEquals": {
                            "aws:ResourceAccount": "${aws:PrincipalAccount}"
                        }, 
                        "StringLike": {
                            "s3:prefix": [
                                "${aws:PrincipalTag/AmazonDataZoneDomain}/${aws:PrincipalTag/AmazonDataZoneProject}", 
                                "${aws:PrincipalTag/AmazonDataZoneDomain}/${aws:PrincipalTag/AmazonDataZoneProject}/*"
                            ]
                        }, 
                        "StringNotEquals": {
                            "aws:PrincipalTag/DomainBucketName": "", 
                            "aws:PrincipalTag/AmazonDataZoneProject": "", 
                            "aws:PrincipalTag/AmazonDataZoneDomain": ""
                        }
                    }, 
                    "Sid": "ListDomainS3BucketPermissions"
                }, 
                {
                    "Action": [
                        "s3:ListBucket"
                    ], 
                    "Resource": "arn:aws:s3:::${aws:PrincipalTag/DomainBucketName}", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringEquals": {
                            "aws:ResourceAccount": "${aws:PrincipalAccount}"
                        }, 
                        "StringNotEquals": {
                            "aws:PrincipalTag/DomainBucketName": ""
                        }
                    }, 
                    "Sid": "AirflowListDomainS3BucketPermissions"
                }, 
                {
                    "Action": [
                        "s3:ListBucket"
                    ], 
                    "Resource": [
                        "arn:aws:s3:::${aws:PrincipalTag/DomainBucketName}"
                    ], 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringEquals": {
                            "aws:ResourceAccount": "${aws:PrincipalAccount}"
                        }, 
                        "ArnEquals": {
                            "lambda:SourceFunctionArn": "arn:aws:lambda:*:*:function:athenafederatedcatalog_*"
                        }
                    }, 
                    "Sid": "ListDomainBucketFromAthenaFederatedCatalog"
                }, 
                {
                    "Action": "s3:GetBucketAcl", 
                    "Resource": "arn:aws:s3:::${aws:PrincipalTag/DomainBucketName}", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringEquals": {
                            "aws:ResourceAccount": "${aws:PrincipalAccount}"
                        }
                    }, 
                    "Sid": "AccessLevelControlS3BucketPermissions"
                }, 
                {
                    "Action": "s3:PutObjectTagging", 
                    "Resource": "arn:aws:s3:::${aws:PrincipalTag/DomainBucketName}/${aws:PrincipalTag/AmazonDataZoneDomain}/${aws:PrincipalTag/AmazonDataZoneProject}/genAI/assets/evaluations/*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringEquals": {
                            "s3:RequestObjectTag/ContainsReferenceResponseForAllPrompts": [
                                "true", 
                                "false"
                            ], 
                            "s3:RequestObjectTag/BasicValidationStatus": [
                                "valid", 
                                "invalid"
                            ]
                        }, 
                        "StringNotEquals": {
                            "aws:PrincipalTag/DomainBucketName": "", 
                            "aws:PrincipalTag/AmazonDataZoneProject": "", 
                            "aws:PrincipalTag/AmazonDataZoneDomain": ""
                        }, 
                        "ForAllValues:StringEquals": {
                            "s3:RequestObjectTagKeys": [
                                "BasicValidationStatus", 
                                "ContainsReferenceResponseForAllPrompts"
                            ]
                        }
                    }, 
                    "Sid": "TagS3ObjectPermissionsForBedrockEvaluation"
                }, 
                {
                    "Action": [
                        "kms:GenerateDataKey", 
                        "kms:Decrypt"
                    ], 
                    "Resource": "arn:aws:kms:*:*:key/${aws:PrincipalTag/KmsKeyId}", 
                    "Effect": "Allow", 
                    "Condition": {
                        "ArnLike": {
                            "kms:EncryptionContext:aws:s3:arn": [
                                "arn:aws:s3:::${aws:PrincipalTag/DomainBucketName}", 
                                "arn:aws:s3:::${aws:PrincipalTag/DomainBucketName}/*"
                            ]
                        }, 
                        "StringLike": {
                            "kms:ViaService": "s3.*.amazonaws.com"
                        }
                    }, 
                    "Sid": "AccessDomainS3BucketKmsPermissions"
                }, 
                {
                    "Action": [
                        "kms:GenerateDataKey", 
                        "kms:Decrypt"
                    ], 
                    "Resource": "arn:aws:kms:*:*:key/${aws:PrincipalTag/DomainKmsKeyId}", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringLike": {
                            "kms:ViaService": "datazone.*.amazonaws.com"
                        }, 
                        "StringEquals": {
                            "kms:EncryptionContext:aws:datazone:domainId": "${aws:PrincipalTag/AmazonDataZoneDomain}"
                        }
                    }, 
                    "Sid": "DZDomainKMSKeyXAcctPerm"
                }, 
                {
                    "Action": [
                        "athena:GetDatabase", 
                        "athena:GetDataCatalog", 
                        "athena:GetTableMetadata", 
                        "athena:ListDatabases", 
                        "athena:ListTableMetadata"
                    ], 
                    "Resource": [
                        "arn:aws:athena:*:*:datacatalog/AwsDataCatalog", 
                        "arn:aws:athena:*:*:datacatalog/awsdatacatalog"
                    ], 
                    "Effect": "Allow", 
                    "Sid": "DefaultAthenaDataCatalogPermissions"
                }, 
                {
                    "Action": [
                        "datazone:CreateConnection", 
                        "datazone:DeleteConnection", 
                        "datazone:GetConnection", 
                        "datazone:GetDomain", 
                        "datazone:GetDomainExecutionRoleCredentials", 
                        "datazone:GetEnvironment", 
                        "datazone:GetEnvironmentBlueprintConfiguration", 
                        "datazone:GetProject", 
                        "datazone:GetUserProfile", 
                        "datazone:ListConnections", 
                        "datazone:ListEnvironments", 
                        "datazone:ListEnvironmentBlueprints", 
                        "datazone:ListProjects", 
                        "datazone:UpdateConnection", 
                        "datazone:PostLineageEvent"
                    ], 
                    "Resource": "arn:aws:datazone:*:*:domain/${aws:PrincipalTag/AmazonDataZoneDomain}", 
                    "Effect": "Allow", 
                    "Sid": "DataZoneUserPermissions"
                }, 
                {
                    "Action": [
                        "glue:GetDatabase"
                    ], 
                    "Resource": [
                        "arn:aws:glue:*:*:catalog", 
                        "arn:aws:glue:*:*:database/default"
                    ], 
                    "Effect": "Allow", 
                    "Sid": "GlueGetDefaultDatabase"
                }, 
                {
                    "Action": [
                        "glue:GetDatabases"
                    ], 
                    "Resource": "arn:aws:glue:*:*:catalog", 
                    "Effect": "Allow", 
                    "Sid": "GlueListDatabasesOnNoDatabases"
                }, 
                {
                    "Action": [
                        "glue:GetConnection", 
                        "glue:GetConnections"
                    ], 
                    "Resource": "arn:aws:glue:*:*:catalog", 
                    "Effect": "Allow", 
                    "Sid": "GlueGetConnectionOnlyOnCatalog"
                }, 
                {
                    "Action": [
                        "glue:CreateDatabase", 
                        "glue:DeleteDatabase", 
                        "glue:GetDatabase"
                    ], 
                    "Resource": [
                        "arn:aws:glue:*:*:database/global_temp", 
                        "arn:aws:glue:*:*:catalog"
                    ], 
                    "Effect": "Allow", 
                    "Sid": "GlueGlobalTempDatabasePermissions"
                }, 
                {
                    "Action": [
                        "glue:CreateDatabase", 
                        "glue:DeleteDatabase", 
                        "glue:GetDatabase"
                    ], 
                    "Resource": [
                        "arn:aws:glue:*:*:database/*", 
                        "arn:aws:glue:*:*:catalog/*"
                    ], 
                    "Effect": "Allow", 
                    "Sid": "GlueCatalogDatabasePermissions"
                }, 
                {
                    "Action": [
                        "lakeformation:GetDataAccess", 
                        "lakeformation:GetResourceLFTags"
                    ], 
                    "Resource": "*", 
                    "Effect": "Allow", 
                    "Sid": "LakeFormationPermissionForDataLakeAccess"
                }, 
                {
                    "Action": [
                        "iam:GetRole"
                    ], 
                    "Resource": "*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringEquals": {
                            "aws:ResourceAccount": "${aws:PrincipalAccount}"
                        }
                    }, 
                    "Sid": "IAMGetRole"
                }, 
                {
                    "Action": [
                        "sts:AssumeRole"
                    ], 
                    "Resource": "*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringNotEquals": {
                            "aws:PrincipalTag/AmazonDataZoneProject": ""
                        }
                    }, 
                    "Sid": "AllowAssumeAccessRole"
                }, 
                {
                    "Action": "sts:SetSourceIdentity", 
                    "Resource": "*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringLike": {
                            "sts:SourceIdentity": "${aws:PrincipalTag/datazone:userId}"
                        }
                    }, 
                    "Sid": "SetSourceIdentityForAssumeAccessRole"
                }, 
                {
                    "Action": "sts:TagSession", 
                    "Resource": "*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringEquals": {
                            "aws:RequestTag/AmazonDataZoneProject": "${aws:PrincipalTag/AmazonDataZoneProject}", 
                            "aws:RequestTag/AmazonDataZoneDomain": "${aws:PrincipalTag/AmazonDataZoneDomain}"
                        }, 
                        "ForAllValues:StringEquals": {
                            "aws:TagKeys": [
                                "AmazonDataZoneProject", 
                                "AmazonDataZoneDomain"
                            ]
                        }
                    }, 
                    "Sid": "TagSessionForAssumeAccessRole"
                }, 
                {
                    "Action": [
                        "sts:SetContext"
                    ], 
                    "Resource": [
                        "arn:aws:sts::*:self"
                    ], 
                    "Effect": "Allow", 
                    "Condition": {
                        "ForAnyValue:StringEquals": {
                            "aws:CalledVia": [
                                "sqlworkbench.amazonaws.com"
                            ]
                        }
                    }, 
                    "Sid": "SetContextForTrustedIdentityPropagation"
                }, 
                {
                    "Action": "sts:SetContext", 
                    "Resource": "*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "Null": {
                            "sts:RequestContextProviders": "false"
                        }, 
                        "ForAllValues:ArnEquals": {
                            "sts:RequestContextProviders": [
                                "arn:aws:iam::aws:contextProvider/IdentityCenter"
                            ]
                        }
                    }, 
                    "Sid": "StsContext"
                }, 
                {
                    "Action": [
                        "iam:PassRole"
                    ], 
                    "Resource": "arn:aws:iam::*:role/${aws:PrincipalTag/RoleName}", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringEquals": {
                            "iam:PassedToService": [
                                "sagemaker.amazonaws.com", 
                                "glue.amazonaws.com", 
                                "airflow.amazonaws.com", 
                                "emr-serverless.amazonaws.com", 
                                "scheduler.amazonaws.com", 
                                "access-grants.s3.amazonaws.com"
                            ], 
                            "aws:ResourceAccount": "${aws:PrincipalAccount}"
                        }
                    }, 
                    "Sid": "AllowPassRoleOnProjectRoles"
                }, 
                {
                    "Action": [
                        "sqlworkbench:PutTab", 
                        "sqlworkbench:DeleteTab", 
                        "sqlworkbench:DriverExecute", 
                        "sqlworkbench:GetUserInfo", 
                        "sqlworkbench:GetAutocompletion*", 
                        "sqlworkbench:PassAccountSettings", 
                        "sqlworkbench:GetQueryExecutionHistory", 
                        "sqlworkbench:CreateConnection", 
                        "sqlworkbench:*QCustomContext", 
                        "sqlworkbench:GetQSql*", 
                        "sqlworkbench:GetSchemaInference"
                    ], 
                    "Resource": "*", 
                    "Effect": "Allow", 
                    "Sid": "SQLWorkBenchActionsWithoutResourceType"
                }, 
                {
                    "Action": "sqlworkbench:AssociateNotebookWithTab", 
                    "Resource": "arn:*:sqlworkbench:*:*:notebook/*", 
                    "Effect": "Allow", 
                    "Sid": "SQLWorkBenchActions"
                }, 
                {
                    "Action": [
                        "sqlworkbench:CreateNotebook*", 
                        "sqlworkbench:GetNotebook", 
                        "sqlworkbench:UpdateNotebook*", 
                        "sqlworkbench:DeleteNotebook*", 
                        "sqlworkbench:ExportNotebook", 
                        "sqlworkbench:BatchGetNotebookCell", 
                        "sqlworkbench:TagResource"
                    ], 
                    "Resource": "*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringEquals": {
                            "aws:ResourceTag/AmazonDataZoneProject": "${aws:PrincipalTag/AmazonDataZoneProject}", 
                            "aws:ResourceTag/sqlworkbench-resource-owner": "${aws:userid}"
                        }
                    }, 
                    "Sid": "SQLWorkBenchNotebookActions"
                }, 
                {
                    "Action": [
                        "redshift-data:DescribeStatement", 
                        "redshift-data:GetStatementResult", 
                        "redshift-data:CancelStatement", 
                        "redshift-data:ListStatements"
                    ], 
                    "Resource": "*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringEquals": {
                            "redshift-data:statement-owner-iam-userid": "${aws:userid}"
                        }
                    }, 
                    "Sid": "RedshiftDataActionsIAMSessionRestriction"
                }, 
                {
                    "Action": [
                        "redshift-data:BatchExecuteStatement", 
                        "redshift-data:ExecuteStatement", 
                        "redshift-data:DescribeTable", 
                        "redshift-data:ListDatabases", 
                        "redshift-data:ListSchemas", 
                        "redshift-data:ListTables"
                    ], 
                    "Resource": "*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringEquals": {
                            "aws:ResourceTag/AmazonDataZoneProject": "${aws:PrincipalTag/AmazonDataZoneProject}"
                        }
                    }, 
                    "Sid": "RedshiftDataActionsForResources"
                }, 
                {
                    "Action": [
                        "redshift:DescribeClusters"
                    ], 
                    "Resource": "*", 
                    "Effect": "Allow", 
                    "Sid": "RedshiftWithoutResourceType"
                }, 
                {
                    "Action": [
                        "redshift-serverless:GetWorkgroup", 
                        "redshift-serverless:ListTagsForResource", 
                        "redshift-serverless:GetNamespace", 
                        "redshift:DescribeTags"
                    ], 
                    "Resource": "*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringEquals": {
                            "aws:ResourceTag/AmazonDataZoneProject": "${aws:PrincipalTag/AmazonDataZoneProject}"
                        }
                    }, 
                    "Sid": "RedshiftServerlessWorkgroupWithResourceType"
                }, 
                {
                    "Action": [
                        "redshift:GetClusterCredentialsWithIAM"
                    ], 
                    "Resource": "arn:aws:redshift:*:*:dbname:*/*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "Bool": {
                            "aws:ViaAWSService": "true"
                        }
                    }, 
                    "Sid": "RedshiftExistingComputeConnectToCatalog"
                }, 
                {
                    "Action": [
                        "emr-containers:DescribeManagedEndpoint", 
                        "emr-containers:DescribeSecurityConfiguration", 
                        "emr-containers:DescribeVirtualCluster", 
                        "emr-containers:GetManagedEndpointSessionCredentials", 
                        "redshift-serverless:GetCredentials", 
                        "redshift:GetClusterCredentialsWithIAM"
                    ], 
                    "Resource": "*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringEquals": {
                            "aws:ResourceTag/AmazonDataZoneProject": "${aws:PrincipalTag/AmazonDataZoneProject}"
                        }
                    }, 
                    "Sid": "RedshiftGetCredentials"
                }, 
                {
                    "Action": [
                        "redshift-data:BatchExecuteStatement", 
                        "redshift-data:ExecuteStatement", 
                        "redshift-data:DescribeStatement", 
                        "redshift-data:GetStatementResult", 
                        "redshift-data:CancelStatement", 
                        "redshift-data:GetStagingBucketLocation", 
                        "redshift-serverless:GetManagedWorkgroup"
                    ], 
                    "Resource": "*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringLike": {
                            "redshift-data:glue-catalog-arn": "arn:aws:glue:*:*:catalog/*"
                        }
                    }, 
                    "Sid": "RedshiftDataActionsForManagedWorkgroup"
                }, 
                {
                    "Action": [
                        "redshift-serverless:GetCredentials"
                    ], 
                    "Resource": "arn:aws:redshift-serverless:*:*:workgroup/*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "ForAnyValue:StringEquals": {
                            "aws:CalledVia": [
                                "redshift-data.amazonaws.com", 
                                "sqlworkbench.amazonaws.com"
                            ]
                        }, 
                        "Bool": {
                            "aws:ViaAWSService": "true"
                        }
                    }, 
                    "Sid": "RedshifServerlessCredentialsForManagedWorkgroup"
                }, 
                {
                    "Action": [
                        "secretsmanager:GetSecretValue"
                    ], 
                    "Resource": "arn:aws:secretsmanager:*:*:secret:*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringEquals": {
                            "aws:ResourceTag/AmazonDataZoneProject": "${aws:PrincipalTag/AmazonDataZoneProject}", 
                            "aws:ResourceAccount": "${aws:PrincipalAccount}"
                        }
                    }, 
                    "Sid": "AllowGetSecretForRedShift"
                }, 
                {
                    "Action": [
                        "cloudwatch:GetMetricData", 
                        "cloudwatch:GetMetricStatistics"
                    ], 
                    "Resource": "*", 
                    "Effect": "Allow", 
                    "Sid": "CloudWatchMetricsPermissions"
                }, 
                {
                    "Action": [
                        "elasticmapreduce:DescribeCluster", 
                        "elasticmapreduce:GetManagedScalingPolicy", 
                        "elasticmapreduce:GetOnClusterAppUIPresignedURL"
                    ], 
                    "Resource": "*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringEquals": {
                            "aws:ResourceTag/AmazonDataZoneProject": "${aws:PrincipalTag/AmazonDataZoneProject}"
                        }
                    }, 
                    "Sid": "EMRClusterWithDataZoneTags"
                }, 
                {
                    "Action": [
                        "elasticmapreduce:CreatePersistentAppUI", 
                        "elasticmapreduce:DescribePersistentAppUI"
                    ], 
                    "Resource": "*", 
                    "Effect": "Allow", 
                    "Sid": "EMRClusterInfoPermissions"
                }, 
                {
                    "Action": [
                        "elasticmapreduce:GetClusterSessionCredentials"
                    ], 
                    "Resource": [
                        "arn:aws:elasticmapreduce:*:*:cluster/*"
                    ], 
                    "Effect": "Allow", 
                    "Condition": {
                        "ArnLike": {
                            "elasticmapreduce:ExecutionRoleArn": "arn:aws:iam::*:role/${aws:PrincipalTag/RoleName}"
                        }, 
                        "StringEquals": {
                            "aws:ResourceTag/AmazonDataZoneProject": "${aws:PrincipalTag/AmazonDataZoneProject}"
                        }
                    }, 
                    "Sid": "EMRGetClusterSessionCredentials"
                }, 
                {
                    "Action": [
                        "sso:DescribeApplication"
                    ], 
                    "Resource": "*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "ForAnyValue:StringLike": {
                            "aws:CalledVia": [
                                "emr-containers.amazonaws.com"
                            ]
                        }
                    }, 
                    "Sid": "EmrContainersSSO"
                }, 
                {
                    "Action": [
                        "elasticmapreduce:GetPersistentAppUIPresignedURL"
                    ], 
                    "Resource": "*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "ArnLike": {
                            "elasticmapreduce:ExecutionRoleArn": "arn:aws:iam::*:role/${aws:PrincipalTag/RoleName}"
                        }
                    }, 
                    "Sid": "EMRPersistentAppUI"
                }, 
                {
                    "Action": [
                        "kms:CreateGrant", 
                        "kms:ReEncryptFrom", 
                        "kms:ReEncryptTo", 
                        "kms:Decrypt", 
                        "kms:Encrypt", 
                        "kms:GenerateDataKey", 
                        "kms:GenerateDataKeyWithoutPlaintext"
                    ], 
                    "Resource": "arn:aws:kms:*:*:key/${aws:PrincipalTag/KmsKeyId}", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringEquals": {
                            "aws:ResourceAccount": "${aws:PrincipalAccount}"
                        }, 
                        "Null": {
                            "kms:EncryptionContextKeys": "false"
                        }, 
                        "StringLike": {
                            "kms:ViaService": [
                                "sqs.*.amazonaws.com", 
                                "sagemaker.*.amazonaws.com", 
                                "bedrock.*.amazonaws.com", 
                                "s3.*.amazonaws.com", 
                                "scheduler.*.amazonaws.com", 
                                "glue.*.amazonaws.com", 
                                "secretsmanager.*.amazonaws.com"
                            ]
                        }
                    }, 
                    "Sid": "KmsWithEncrypt"
                }, 
                {
                    "Action": [
                        "kms:Decrypt"
                    ], 
                    "Resource": "arn:aws:kms:*:*:key/${aws:PrincipalTag/KmsKeyId}", 
                    "Effect": "Allow", 
                    "Condition": {
                        "Null": {
                            "kms:EncryptionContext:aws:scheduler:schedule:arn": "false"
                        }
                    }, 
                    "Sid": "EBDecrypt"
                }, 
                {
                    "Action": [
                        "kms:CreateGrant", 
                        "kms:ReEncryptFrom", 
                        "kms:ReEncryptTo", 
                        "kms:Decrypt", 
                        "kms:GenerateDataKey", 
                        "kms:GenerateDataKeyWithoutPlaintext"
                    ], 
                    "Resource": "arn:aws:kms:*:*:key/${aws:PrincipalTag/KmsKeyId}", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringEquals": {
                            "aws:ResourceAccount": "${aws:PrincipalAccount}"
                        }, 
                        "Null": {
                            "kms:EncryptionContextKeys": "false"
                        }, 
                        "StringLike": {
                            "kms:ViaService": [
                                "emr-serverless.*.amazonaws.com", 
                                "redshift.*.amazonaws.com"
                            ]
                        }
                    }, 
                    "Sid": "KmsPermissions"
                }, 
                {
                    "Action": [
                        "kms:ListGrants", 
                        "kms:RevokeGrant", 
                        "kms:DescribeKey"
                    ], 
                    "Resource": "arn:aws:kms:*:*:key/${aws:PrincipalTag/KmsKeyId}", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringEquals": {
                            "aws:ResourceAccount": "${aws:PrincipalAccount}"
                        }, 
                        "StringLike": {
                            "kms:ViaService": [
                                "sqs.*.amazonaws.com", 
                                "sagemaker.*.amazonaws.com", 
                                "emr-serverless.*.amazonaws.com", 
                                "s3.*.amazonaws.com", 
                                "redshift.*.amazonaws.com", 
                                "codecommit.*.amazonaws.com", 
                                "scheduler.*.amazonaws.com"
                            ]
                        }
                    }, 
                    "Sid": "KmsManagement"
                }, 
                {
                    "Action": [
                        "kms:CreateGrant", 
                        "kms:Decrypt", 
                        "kms:Encrypt", 
                        "kms:GenerateDataKey", 
                        "kms:GenerateDataKeyWithoutPlaintext"
                    ], 
                    "Resource": [
                        "arn:aws:kms:*:*:key/*"
                    ], 
                    "Effect": "Allow", 
                    "Condition": {
                        "Null": {
                            "kms:EncryptionContextKeys": "false"
                        }, 
                        "StringLike": {
                            "kms:ViaService": [
                                "s3.*.amazonaws.com", 
                                "sqs.*.amazonaws.com", 
                                "sagemaker.*.amazonaws.com"
                            ]
                        }, 
                        "StringNotEquals": {
                            "aws:ResourceAccount": "${aws:PrincipalAccount}"
                        }
                    }, 
                    "Sid": "AwsOwnedKmsKeyPermissions"
                }, 
                {
                    "Action": [
                        "kms:DescribeKey"
                    ], 
                    "Resource": [
                        "arn:aws:kms:*:*:key/*"
                    ], 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringLike": {
                            "kms:ViaService": [
                                "sqs.*.amazonaws.com", 
                                "sagemaker.*.amazonaws.com"
                            ]
                        }, 
                        "StringNotEquals": {
                            "aws:ResourceAccount": "${aws:PrincipalAccount}"
                        }
                    }, 
                    "Sid": "AwsOwnedKmsManagement"
                }, 
                {
                    "Action": [
                        "kms:ListAliases"
                    ], 
                    "Resource": "*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringEquals": {
                            "aws:ResourceAccount": "${aws:PrincipalAccount}"
                        }
                    }, 
                    "Sid": "ListKMS"
                }, 
                {
                    "Action": [
                        "ec2:DescribeInstanceTypes"
                    ], 
                    "Resource": "*", 
                    "Effect": "Allow", 
                    "Sid": "EC2PermissionsForNotebookExecution"
                }, 
                {
                    "Action": [
                        "bedrock:InvokeModel", 
                        "bedrock:InvokeModelWithResponseStream"
                    ], 
                    "Resource": [
                        "arn:aws:bedrock:*::foundation-model/*", 
                        "arn:aws:bedrock:*:*:custom-model/*", 
                        "arn:aws:bedrock:*:*:provisioned-model/*"
                    ], 
                    "Effect": "Allow", 
                    "Condition": {
                        "Null": {
                            "bedrock:InferenceProfileArn": "false"
                        }, 
                        "StringEquals": {
                            "aws:PrincipalTag/EnableAmazonBedrockIDEPermissions": "true"
                        }
                    }, 
                    "Sid": "InvokeBedrockModel"
                }, 
                {
                    "Action": [
                        "bedrock:InvokeModel", 
                        "bedrock:InvokeModelWithResponseStream"
                    ], 
                    "Resource": [
                        "arn:aws:bedrock:*::foundation-model/*", 
                        "arn:aws:bedrock:*:*:custom-model/*", 
                        "arn:aws:bedrock:*:*:provisioned-model/*"
                    ], 
                    "Effect": "Allow", 
                    "Condition": {
                        "ArnLike": {
                            "bedrock:InferenceProfileArn": "arn:aws:bedrock:*:*:application-inference-profile/*"
                        }, 
                        "StringEquals": {
                            "aws:PrincipalTag/EnableAmazonBedrockPermissions": "true"
                        }
                    }, 
                    "Sid": "BedrockInvokeModelPermissions"
                }, 
                {
                    "Action": [
                        "bedrock:GetInferenceProfile", 
                        "bedrock:InvokeModel", 
                        "bedrock:InvokeModelWithResponseStream"
                    ], 
                    "Resource": "arn:aws:bedrock:*:*:application-inference-profile/*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringEquals": {
                            "aws:ResourceTag/AmazonDataZoneProject": "${aws:PrincipalTag/AmazonDataZoneProject}", 
                            "aws:PrincipalTag/EnableAmazonBedrockIDEPermissions": "true"
                        }
                    }, 
                    "Sid": "InvokeBedrockModelAppInferenceProfilePermissions"
                }, 
                {
                    "Action": [
                        "bedrock:GetInferenceProfile", 
                        "bedrock:InvokeModel", 
                        "bedrock:InvokeModelWithResponseStream"
                    ], 
                    "Resource": "arn:aws:bedrock:*:*:application-inference-profile/*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringEquals": {
                            "aws:PrincipalTag/EnableAmazonBedrockPermissions": "true", 
                            "aws:ResourceTag/AmazonDataZoneProject": "${aws:PrincipalTag/AmazonDataZoneProject}"
                        }
                    }, 
                    "Sid": "BedrockInvokeModelAppInferenceProfilePermissions"
                }, 
                {
                    "Action": [
                        "bedrock:InvokeAgent", 
                        "bedrock:Retrieve", 
                        "bedrock:ListIngestionJobs", 
                        "bedrock:StartIngestionJob", 
                        "bedrock:GetIngestionJob", 
                        "bedrock:ApplyGuardrail", 
                        "bedrock:ListPrompts", 
                        "bedrock:GetPrompt", 
                        "bedrock:CreatePrompt", 
                        "bedrock:DeletePrompt", 
                        "bedrock:CreatePromptVersion", 
                        "bedrock:InvokeFlow", 
                        "bedrock:GetEvaluationJob", 
                        "bedrock:CreateEvaluationJob", 
                        "bedrock:StopEvaluationJob", 
                        "bedrock:BatchDeleteEvaluationJob", 
                        "bedrock:ListTagsForResource", 
                        "bedrock:CreateAgentAlias", 
                        "bedrock:ListAgentAliases", 
                        "bedrock:GetAgentVersion", 
                        "bedrock:ListAgentVersions", 
                        "bedrock:DeleteAgentVersion", 
                        "bedrock:DeleteAgentAlias", 
                        "bedrock:GetAgentAlias", 
                        "bedrock:UpdateAgentAlias"
                    ], 
                    "Resource": "*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringEquals": {
                            "aws:ResourceTag/AmazonDataZoneProject": "${aws:PrincipalTag/AmazonDataZoneProject}", 
                            "aws:PrincipalTag/EnableAmazonBedrockIDEPermissions": "true"
                        }
                    }, 
                    "Sid": "AccessBedrockResourcePermissions"
                }, 
                {
                    "Action": [
                        "bedrock:ApplyGuardrail", 
                        "bedrock:BatchDeleteEvaluationJob", 
                        "bedrock:CreateAgentAlias", 
                        "bedrock:CreateBlueprint", 
                        "bedrock:CreateBlueprintVersion", 
                        "bedrock:CreateDataAutomationProject", 
                        "bedrock:CreateEvaluationJob", 
                        "bedrock:CreatePrompt", 
                        "bedrock:CreatePromptVersion", 
                        "bedrock:DeleteAgentAlias", 
                        "bedrock:DeleteAgentVersion", 
                        "bedrock:DeleteBlueprint", 
                        "bedrock:DeleteDataAutomationProject", 
                        "bedrock:DeletePrompt", 
                        "bedrock:GetAgentAlias", 
                        "bedrock:GetAgentVersion", 
                        "bedrock:GetBlueprint", 
                        "bedrock:GetDataAutomationProject", 
                        "bedrock:GetDataAutomationStatus", 
                        "bedrock:GetEvaluationJob", 
                        "bedrock:GetIngestionJob", 
                        "bedrock:GetPrompt", 
                        "bedrock:InvokeAgent", 
                        "bedrock:InvokeDataAutomationAsync", 
                        "bedrock:InvokeFlow", 
                        "bedrock:ListAgentAliases", 
                        "bedrock:ListAgentVersions", 
                        "bedrock:ListIngestionJobs", 
                        "bedrock:ListPrompts", 
                        "bedrock:ListTagsForResource", 
                        "bedrock:Retrieve", 
                        "bedrock:StartIngestionJob", 
                        "bedrock:StopEvaluationJob", 
                        "bedrock:UpdateAgentAlias", 
                        "bedrock:UpdateBlueprint", 
                        "bedrock:UpdateDataAutomationProject", 
                        "bedrock:ListAgentActionGroups", 
                        "bedrock:ListAgentKnowledgeBases"
                    ], 
                    "Resource": "arn:aws:bedrock:*:*:*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringEquals": {
                            "aws:PrincipalTag/EnableAmazonBedrockPermissions": "true", 
                            "aws:ResourceTag/AmazonDataZoneProject": "${aws:PrincipalTag/AmazonDataZoneProject}"
                        }
                    }, 
                    "Sid": "BedrockResourceAccessPermissions"
                }, 
                {
                    "Action": "bedrock:CreateEvaluationJob", 
                    "Resource": [
                        "arn:aws:bedrock:*::foundation-model/*", 
                        "arn:aws:bedrock:*:*:custom-model/*"
                    ], 
                    "Effect": "Allow", 
                    "Sid": "CreateEvaluationJobForFoundationModelPermissions"
                }, 
                {
                    "Action": "bedrock:CreateEvaluationJob", 
                    "Resource": [
                        "arn:aws:bedrock:*:*:custom-model/*", 
                        "arn:aws:bedrock:*::foundation-model/*"
                    ], 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringEquals": {
                            "aws:PrincipalTag/EnableAmazonBedrockPermissions": "true"
                        }
                    }, 
                    "Sid": "BedrockCreateEvaluationJobPermissions"
                }, 
                {
                    "Action": [
                        "bedrock:InvokeDataAutomationAsync"
                    ], 
                    "Resource": [
                        "arn:aws:bedrock:*:*:data-automation-profile/*"
                    ], 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringEquals": {
                            "aws:PrincipalTag/EnableAmazonBedrockPermissions": "true"
                        }
                    }, 
                    "Sid": "InvokeDataAutomationAsyncPermissions"
                }, 
                {
                    "Action": "bedrock:InvokeInlineAgent", 
                    "Resource": "*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringEquals": {
                            "bedrock:InlineAgentName": "${datazone:userId}", 
                            "aws:PrincipalTag/EnableAmazonBedrockIDEPermissions": "true"
                        }, 
                        "StringNotEquals": {
                            "bedrock:InlineAgentName": ""
                        }
                    }, 
                    "Sid": "InvokeBedrockInlineAgentPermissions"
                }, 
                {
                    "Action": "bedrock:InvokeInlineAgent", 
                    "Resource": "*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringEquals": {
                            "aws:PrincipalTag/EnableAmazonBedrockPermissions": "true", 
                            "bedrock:InlineAgentName": "${datazone:userId}"
                        }, 
                        "StringNotEquals": {
                            "bedrock:InlineAgentName": ""
                        }
                    }, 
                    "Sid": "BedrockInvokeInlineAgentPermissions"
                }, 
                {
                    "Action": [
                        "iam:PassRole"
                    ], 
                    "Resource": [
                        "arn:aws:iam::*:role/AmazonBedrockEvaluationRole-${aws:PrincipalTag/AmazonDataZoneProject}-*", 
                        "arn:aws:iam::*:role/AmazonBedrockServiceRole-${aws:PrincipalTag/AmazonDataZoneProject}-*"
                    ], 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringEquals": {
                            "iam:PassedToService": [
                                "bedrock.amazonaws.com"
                            ], 
                            "aws:PrincipalTag/EnableAmazonBedrockIDEPermissions": "true"
                        }
                    }, 
                    "Sid": "PassRoleToBedrockEvaluation"
                }, 
                {
                    "Action": "iam:PassRole", 
                    "Resource": [
                        "arn:aws:iam::*:role/AmazonBedrockEvaluationRole-${aws:PrincipalTag/AmazonDataZoneProject}-*", 
                        "arn:aws:iam::*:role/AmazonBedrockServiceRole-${aws:PrincipalTag/AmazonDataZoneProject}-*"
                    ], 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringEquals": {
                            "aws:PrincipalTag/EnableAmazonBedrockPermissions": "true", 
                            "iam:PassedToService": "bedrock.amazonaws.com"
                        }
                    }, 
                    "Sid": "IamPassRoleToBedrockPermissions"
                }, 
                {
                    "Action": "bedrock:TagResource", 
                    "Resource": "*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "ForAllValues:StringLike": {
                            "aws:TagKeys": [
                                "AmazonDataZone*", 
                                "AmazonBedrockManaged", 
                                "ProjectUserTag*"
                            ]
                        }, 
                        "StringEquals": {
                            "aws:ResourceTag/AmazonDataZoneProject": "${aws:PrincipalTag/AmazonDataZoneProject}", 
                            "aws:RequestTag/AmazonDataZoneProject": "${aws:PrincipalTag/AmazonDataZoneProject}", 
                            "aws:PrincipalTag/EnableAmazonBedrockIDEPermissions": "true"
                        }
                    }, 
                    "Sid": "TagBedrockResourcePermissions"
                }, 
                {
                    "Action": "bedrock:TagResource", 
                    "Resource": "arn:aws:bedrock:*:*:*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringEqualsIfExists": {
                            "aws:RequestTag/AmazonDataZoneProject": "${aws:PrincipalTag/AmazonDataZoneProject}"
                        }, 
                        "ForAllValues:StringLike": {
                            "aws:TagKeys": [
                                "AmazonBedrockManaged", 
                                "AmazonDataZone*", 
                                "ProjectUserTag*"
                            ]
                        }, 
                        "StringEquals": {
                            "aws:PrincipalTag/EnableAmazonBedrockPermissions": "true", 
                            "aws:ResourceTag/AmazonDataZoneProject": "${aws:PrincipalTag/AmazonDataZoneProject}"
                        }
                    }, 
                    "Sid": "BedrockTagResourcePermissions"
                }, 
                {
                    "Action": [
                        "kms:GenerateDataKey", 
                        "kms:Decrypt"
                    ], 
                    "Resource": "arn:aws:kms:*:*:key/${aws:PrincipalTag/KmsKeyId}", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringLike": {
                            "kms:ViaService": "bedrock.*.amazonaws.com"
                        }, 
                        "Null": {
                            "kms:EncryptionContext:aws:bedrock:arn": "false"
                        }, 
                        "StringEquals": {
                            "aws:ResourceAccount": "${aws:PrincipalAccount}", 
                            "aws:PrincipalTag/EnableAmazonBedrockIDEPermissions": "true"
                        }
                    }, 
                    "Sid": "BedrockKmsPermissions"
                }, 
                {
                    "Action": [
                        "kms:Decrypt", 
                        "kms:GenerateDataKey"
                    ], 
                    "Resource": "arn:aws:kms:*:*:key/${aws:PrincipalTag/KmsKeyId}", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringLike": {
                            "kms:ViaService": "bedrock.*.amazonaws.com"
                        }, 
                        "ForAllValues:StringLike": {
                            "kms:EncryptionContextKeys": [
                                "aws:bedrock*:arn", 
                                "aws:bedrock:guardrail-id"
                            ]
                        }, 
                        "StringEquals": {
                            "aws:PrincipalTag/EnableAmazonBedrockPermissions": "true", 
                            "aws:ResourceAccount": "${aws:PrincipalAccount}"
                        }
                    }, 
                    "Sid": "KmsViaBedrockPermissions"
                }, 
                {
                    "Action": [
                        "secretsmanager:DescribeSecret", 
                        "secretsmanager:PutSecretValue"
                    ], 
                    "Resource": "arn:aws:secretsmanager:*:*:secret:amazon-bedrock-ide/*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringEquals": {
                            "aws:ResourceTag/AmazonDataZoneProject": "${aws:PrincipalTag/AmazonDataZoneProject}", 
                            "aws:PrincipalTag/EnableAmazonBedrockIDEPermissions": "true"
                        }
                    }, 
                    "Sid": "AccessSecretPermissionsForAmazonBedrockIDE"
                }, 
                {
                    "Action": [
                        "secretsmanager:DescribeSecret", 
                        "secretsmanager:PutSecretValue"
                    ], 
                    "Resource": "arn:aws:secretsmanager:*:*:secret:amazon-bedrock*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringEquals": {
                            "aws:PrincipalTag/EnableAmazonBedrockPermissions": "true", 
                            "aws:ResourceTag/AmazonDataZoneProject": "${aws:PrincipalTag/AmazonDataZoneProject}"
                        }
                    }, 
                    "Sid": "SecretsManagerPermissionsForBedrock"
                }, 
                {
                    "Action": [
                        "kms:GenerateDataKey", 
                        "kms:Decrypt"
                    ], 
                    "Resource": "arn:aws:kms:*:*:key/${aws:PrincipalTag/KmsKeyId}", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringLike": {
                            "kms:ViaService": "secretsmanager.*.amazonaws.com"
                        }, 
                        "ArnLike": {
                            "kms:EncryptionContext:SecretARN": "arn:aws:secretsmanager:*:*:secret:amazon-bedrock-ide/*"
                        }, 
                        "StringEquals": {
                            "aws:ResourceAccount": "${aws:PrincipalAccount}", 
                            "aws:PrincipalTag/EnableAmazonBedrockIDEPermissions": "true"
                        }
                    }, 
                    "Sid": "AccessSecretKmsPermissionsForAmazonBedrockIDE"
                }, 
                {
                    "Action": [
                        "kms:Decrypt", 
                        "kms:GenerateDataKey"
                    ], 
                    "Resource": "arn:aws:kms:*:*:key/${aws:PrincipalTag/KmsKeyId}", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringLike": {
                            "kms:ViaService": "secretsmanager.*.amazonaws.com"
                        }, 
                        "ArnLike": {
                            "kms:EncryptionContext:SecretARN": "arn:aws:secretsmanager:*:*:secret:amazon-bedrock*"
                        }, 
                        "StringEquals": {
                            "aws:PrincipalTag/EnableAmazonBedrockPermissions": "true", 
                            "aws:ResourceAccount": "${aws:PrincipalAccount}"
                        }
                    }, 
                    "Sid": "KmsViaSecretsManagerPermissionsForBedrock"
                }, 
                {
                    "Action": "lambda:InvokeFunction", 
                    "Resource": "arn:aws:lambda:*:*:function:amazon-bedrock-ide-*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringEquals": {
                            "aws:ResourceTag/AmazonDataZoneProject": "${aws:PrincipalTag/AmazonDataZoneProject}", 
                            "aws:CalledViaFirst": "bedrock.amazonaws.com", 
                            "aws:PrincipalTag/EnableAmazonBedrockIDEPermissions": "true"
                        }
                    }, 
                    "Sid": "InvokeFunctionPermissionsForAmazonBedrockIDE"
                }, 
                {
                    "Action": "lambda:InvokeFunction", 
                    "Resource": "arn:aws:lambda:*:*:function:amazon-bedrock*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringEquals": {
                            "aws:PrincipalTag/EnableAmazonBedrockPermissions": "true", 
                            "aws:ResourceTag/AmazonDataZoneProject": "${aws:PrincipalTag/AmazonDataZoneProject}", 
                            "aws:CalledViaFirst": "bedrock.amazonaws.com"
                        }
                    }, 
                    "Sid": "LambdaInvokeFunctionViaBedrockPermissions"
                }, 
                {
                    "Action": [
                        "cloudformation:GetTemplate", 
                        "cloudformation:DescribeStacks"
                    ], 
                    "Resource": "arn:aws:cloudformation:*:*:stack/DataZone-Env-*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringEquals": {
                            "aws:ResourceTag/AmazonDataZoneProject": "${aws:PrincipalTag/AmazonDataZoneProject}", 
                            "aws:PrincipalTag/EnableAmazonBedrockIDEPermissions": "true"
                        }
                    }, 
                    "Sid": "GetDataZoneEnvironmentCloudFormationStackPermissions"
                }, 
                {
                    "Action": [
                        "cloudformation:DescribeStacks", 
                        "cloudformation:GetTemplate"
                    ], 
                    "Resource": "arn:aws:cloudformation:*:*:stack/DataZone-Env-*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringEquals": {
                            "aws:PrincipalTag/EnableAmazonBedrockPermissions": "true", 
                            "aws:ResourceTag/AmazonDataZoneProject": "${aws:PrincipalTag/AmazonDataZoneProject}"
                        }
                    }, 
                    "Sid": "CloudFormationGetDataZoneEnvironmentStackPermissions"
                }, 
                {
                    "Action": [
                        "secretsmanager:GetSecretValue"
                    ], 
                    "Resource": "arn:*:secretsmanager:*:*:secret:*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringEquals": {
                            "aws:ResourceTag/for-use-with-all-datazone-projects": "true"
                        }
                    }, 
                    "Sid": "FederatedConnectionGetSecretPermissions"
                }, 
                {
                    "Action": [
                        "logs:CreateLogGroup", 
                        "logs:CreateLogStream", 
                        "logs:PutLogEvents"
                    ], 
                    "Resource": "arn:aws:logs:*:*:log-group:/aws/lambda/athenafederatedcatalog*", 
                    "Effect": "Allow", 
                    "Sid": "FederatedConnectionLambdaLogsPermissions"
                }, 
                {
                    "Action": [
                        "ec2:CreateNetworkInterface", 
                        "ec2:DescribeSubnets", 
                        "ec2:DetachNetworkInterface"
                    ], 
                    "Resource": "*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringEquals": {
                            "ec2:Vpc": "${aws:PrincipalTag/vpcArn}"
                        }
                    }, 
                    "Sid": "FederatedConnectionEC2Permissions"
                }, 
                {
                    "Action": "ec2:DeleteNetworkInterface", 
                    "Resource": "arn:aws:ec2:*:*:*/*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringEqualsIfExists": {
                            "ec2:Vpc": "${aws:PrincipalTag/vpcArn}"
                        }
                    }, 
                    "Sid": "FederatedConnectionDeleteENIPermissions"
                }, 
                {
                    "Action": [
                        "ec2:DescribeNetworkInterfaces"
                    ], 
                    "Resource": "*", 
                    "Effect": "Allow", 
                    "Sid": "FederatedConnectionDescribeENIPermissions"
                }, 
                {
                    "Action": [
                        "lakeformation:BatchGrantPermissions", 
                        "lakeformation:BatchRevokePermissions", 
                        "lakeformation:ListPermissions", 
                        "lakeformation:DescribeResource", 
                        "ram:GetResourceShareInvitations", 
                        "lakeformation:CreateDataCellsFilter", 
                        "lakeformation:ListDataCellsFilter", 
                        "lakeformation:DeleteDataCellsFilter", 
                        "lakeformation:GetDataCellsFilter", 
                        "lakeformation:UpdateDataCellsFilter", 
                        "ram:ListResources"
                    ], 
                    "Resource": "*", 
                    "Effect": "Allow", 
                    "Sid": "LakeformationResourceSharingPermissions"
                }, 
                {
                    "Action": [
                        "ram:CreateResourceShare"
                    ], 
                    "Resource": "*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringEqualsIfExists": {
                            "ram:RequestedResourceType": [
                                "glue:Table", 
                                "glue:Database", 
                                "glue:Catalog"
                            ]
                        }, 
                        "ForAnyValue:StringEquals": {
                            "aws:CalledVia": [
                                "lakeformation.amazonaws.com"
                            ]
                        }
                    }, 
                    "Sid": "CrossAccountLakeFormationResourceSharingPermissions"
                }, 
                {
                    "Action": [
                        "glue:DeleteResourcePolicy", 
                        "glue:PutResourcePolicy"
                    ], 
                    "Resource": [
                        "arn:aws:glue:*:*:catalog", 
                        "arn:aws:glue:*:*:catalog/*", 
                        "arn:aws:glue:*:*:database/*", 
                        "arn:aws:glue:*:*:table/*"
                    ], 
                    "Effect": "Allow", 
                    "Condition": {
                        "ForAnyValue:StringEquals": {
                            "aws:CalledVia": [
                                "ram.amazonaws.com"
                            ]
                        }
                    }, 
                    "Sid": "CrossAccountRAMResourceSharingPermissions"
                }, 
                {
                    "Action": [
                        "ram:AssociateResourceShare", 
                        "ram:DisassociateResourceShare", 
                        "ram:DeleteResourceShare", 
                        "ram:ListResourceSharePermissions", 
                        "ram:UpdateResourceShare"
                    ], 
                    "Resource": "*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "ForAnyValue:StringEquals": {
                            "aws:CalledVia": [
                                "lakeformation.amazonaws.com"
                            ]
                        }, 
                        "StringLike": {
                            "ram:ResourceShareName": [
                                "LakeFormation*"
                            ]
                        }
                    }, 
                    "Sid": "CrossAccountRAMResourceSharingViaLakeFormationPermissions"
                }, 
                {
                    "Action": [
                        "ram:GetResourceShares"
                    ], 
                    "Resource": "*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "ForAnyValue:StringEquals": {
                            "aws:CalledVia": [
                                "lakeformation.amazonaws.com"
                            ]
                        }
                    }, 
                    "Sid": "RAMGetResourceSharesViaLakeFormation"
                }, 
                {
                    "Action": [
                        "ram:AcceptResourceShareInvitation"
                    ], 
                    "Resource": "arn:aws:ram:*:*:resource-share-invitation/*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringLike": {
                            "ram:ResourceShareName": [
                                "LakeFormation*", 
                                "DataZoneS3AG*"
                            ]
                        }
                    }, 
                    "Sid": "CrossAccountRAMResourceShareInvitationPermission"
                }, 
                {
                    "Action": "ram:AssociateResourceSharePermission", 
                    "Resource": "*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "ForAnyValue:StringEquals": {
                            "aws:CalledVia": [
                                "lakeformation.amazonaws.com"
                            ]
                        }, 
                        "ArnLike": {
                            "ram:PermissionArn": "arn:aws:ram::aws:permission/AWSRAMLFEnabled*"
                        }
                    }, 
                    "Sid": "CrossAccountRAMResourceSharingViaLakeFormationHybrid"
                }, 
                {
                    "Action": [
                        "quicksight:DescribeDataSource", 
                        "quicksight:DescribeFolder", 
                        "quicksight:DescribeFolderPermissions", 
                        "quicksight:ListFolderMembers"
                    ], 
                    "Resource": [
                        "arn:aws:quicksight:*:*:folder/*", 
                        "arn:aws:quicksight:*:*:datasource/*"
                    ], 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringEquals": {
                            "aws:ResourceTag/AmazonDataZoneProject": "${aws:PrincipalTag/AmazonDataZoneProject}"
                        }
                    }, 
                    "Sid": "ManageQuickSightFolderAndDataSourceResources"
                }, 
                {
                    "Action": [
                        "quicksight:DescribeDataSet", 
                        "quicksight:DescribeAccountSubscription", 
                        "quicksight:DescribeUser", 
                        "quicksight:DescribeGroup"
                    ], 
                    "Resource": [
                        "arn:aws:quicksight:*:*:*"
                    ], 
                    "Effect": "Allow", 
                    "Sid": "ManageQuickSightOtherResources"
                }, 
                {
                    "Action": [
                        "quicksight:PassDataSource"
                    ], 
                    "Resource": "arn:aws:quicksight:*:*:datasource/*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringEquals": {
                            "aws:ResourceTag/AmazonDataZoneProject": "${aws:PrincipalTag/AmazonDataZoneProject}"
                        }
                    }, 
                    "Sid": "ManagePassDataSourcePermissions"
                }, 
                {
                    "Action": [
                        "quicksight:CreateDataSet", 
                        "quicksight:TagResource"
                    ], 
                    "Resource": "arn:aws:quicksight:*:*:dataset/*", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringEquals": {
                            "aws:ResourceTag/AmazonDataZoneProject": "${aws:PrincipalTag/AmazonDataZoneProject}"
                        }, 
                        "Null": {
                            "aws:TagKeys": "false"
                        }, 
                        "ForAllValues:StringLike": {
                            "aws:TagKeys": [
                                "AmazonDataZone*"
                            ]
                        }, 
                        "StringEqualsIfExists": {
                            "aws:RequestTag/AmazonDataZoneProject": "${aws:PrincipalTag/AmazonDataZoneProject}"
                        }
                    }, 
                    "Sid": "ManageCreateDataSetPermissions"
                }, 
                {
                    "Action": [
                        "quicksight:CreateFolderMembership"
                    ], 
                    "Resource": "arn:aws:quicksight:*:*:folder/sagemaker-*-assets", 
                    "Effect": "Allow", 
                    "Condition": {
                        "StringEquals": {
                            "aws:ResourceTag/AmazonDataZoneProject": "${aws:PrincipalTag/AmazonDataZoneProject}", 
                            "aws:ResourceTag/AmazonDataZoneAssetsFolder": "true"
                        }
                    }, 
                    "Sid": "CreateFolderMembership"
                }, 
                {
                    "Action": [
                        "sagemaker-unified-studio-mcp:InvokeMcp", 
                        "sagemaker-unified-studio-mcp:CallReadOnlyTool", 
                        "sagemaker-unified-studio-mcp:CallPrivilegedTool"
                    ], 
                    "Resource": "*", 
                    "Effect": "Allow", 
                    "Sid": "SageMakerUnifiedStudioMcp"
                }
            ]
        }, 
        "IsDefaultVersion": true
    }
}
